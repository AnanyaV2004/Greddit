{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/web development/React/A-full-stack-web-application/Codes/src/FollowingList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\n// import { useNavigate } from \"react-router-dom\";\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FollowingList() {\n  _s();\n  const [followings, setFollowings] = useState([]);\n  const [others, setOthers] = useState([]);\n  const [all, setAll] = useState([]);\n  const [count, setCount] = useState(0);\n  useEffect(() => {\n    var username = localStorage.getItem(\"username\");\n    let x = {\n      username\n    };\n    axios.post('http://localhost:5000/getfollowing', x).then(response => {\n      console.log(response.data);\n      setFollowings(JSON.parse(JSON.stringify(response.data)));\n      console.log(\"1->followigns->\" + followings);\n      axios.post('http://localhost:5000/getalldata').then(response => {\n        setAll(JSON.parse(JSON.stringify(response.data)));\n      }).catch(error => {\n        console.error(error);\n      });\n    }).catch(error => {\n      console.error(error);\n    });\n  }, [count]);\n\n  // const navigate = useNavigate();\n  useEffect(() => {\n    console.log(\"2temp->\" + others + \"\\nfoloowings\" + followings);\n    let other = all.filter(member => {\n      return !followings.some(following => following.username === member.username);\n    });\n    setOthers(other);\n    // navigate(\"/followings\"); \n  }, [all]);\n\n  // useEffect(()=>{\n  //     window.location.reload(false)\n  // },[others])    \n  function handleRemoveFollowings(following) {\n    var username = localStorage.getItem(\"username\");\n    var remove = following.username;\n    let x = {\n      username,\n      remove\n    };\n    axios.post('http://localhost:5000/removefollowing', x).then(response => {\n      console.log(\"removed\");\n      setCount(count + 1);\n      // window.location.reload(false);\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n  function handleaAddFollowings(other) {\n    var username = localStorage.getItem(\"username\");\n    var other = other.username;\n    let x = {\n      username,\n      other\n    };\n    axios.post('http://localhost:5000/addfollowing', x).then(response => {\n      // setFollowings(JSON.parse(JSON.stringify(response.data))); \n      // navigate(\"/followings\");\n      console.log(\"added\");\n      setCount(count + 1);\n      // window.location.reload(false)                \n    }).catch(error => {\n      console.error(error);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"list-group pt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        class: \"list-group-item list-group-item-action active h1\",\n        children: \"Followings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), followings.map(following =>\n      /*#__PURE__*/\n      //those who I follow.\n      _jsxDEV(\"li\", {\n        class: \"list-group-item list-group-item-action list-group-item-warning h5\",\n        children: [following.username, /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn ms-3 btn-primary\",\n          onClick: () => handleRemoveFollowings(following),\n          children: \"Unfollow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)]\n      }, following.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n        class: \"list-group-item list-group-item-action active h1\",\n        children: \"Others on our database\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), others.map(other =>\n      /*#__PURE__*/\n      //those who I can follow.\n      _jsxDEV(\"li\", {\n        class: \"list-group-item list-group-item-action list-group-item-warning h5\",\n        children: [other.username, /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"float-right btn ms-3 btn-primary\",\n          onClick: () => handleaAddFollowings(other),\n          children: \"Follow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this)]\n      }, other.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n_s(FollowingList, \"p9/9Eenm0rvDaiCCBbglM4cHZzY=\");\n_c = FollowingList;\nexport default FollowingList;\nvar _c;\n$RefreshReg$(_c, \"FollowingList\");","map":{"version":3,"names":["React","useState","axios","useEffect","FollowingList","followings","setFollowings","others","setOthers","all","setAll","count","setCount","username","localStorage","getItem","x","post","then","response","console","log","data","JSON","parse","stringify","catch","error","other","filter","member","some","following","handleRemoveFollowings","remove","handleaAddFollowings","map","id"],"sources":["/home/user/Desktop/web development/React/A-full-stack-web-application/Codes/src/FollowingList.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n// import { useNavigate } from \"react-router-dom\";\nimport { useEffect } from 'react';\n\nfunction FollowingList() {\n\n    const [followings, setFollowings] = useState([]);\n    const [others , setOthers] = useState([]);\n    const [all , setAll] = useState([]);\n    const [count , setCount] = useState(0);\n    useEffect(()=>{\n        var username = localStorage.getItem(\"username\");\n        let x = {username};\n\n        axios.post('http://localhost:5000/getfollowing', x)\n        .then(response => {\n            console.log(response.data);\n            setFollowings(JSON.parse(JSON.stringify(response.data))); \n            console.log(\"1->followigns->\"+followings);\n            axios.post('http://localhost:5000/getalldata')\n            .then(response => {\n                setAll(JSON.parse(JSON.stringify(response.data))); \n            })\n            .catch(error => {\n            console.error(error);\n            }); \n\n        })\n        .catch(error => {\n          console.error(error);\n        }); \n    },[count])\n\n    // const navigate = useNavigate();\n    useEffect(()=>{\n        console.log(\"2temp->\"+others+\"\\nfoloowings\"+followings);\n        let other = all.filter(member => {\n            return !followings.some(following => following.username === member.username);\n          });\n        setOthers(other);\n        // navigate(\"/followings\"); \n          \n    },[all])\n\n    // useEffect(()=>{\n    //     window.location.reload(false)\n    // },[others])    \n    function handleRemoveFollowings(following) {\n        var username = localStorage.getItem(\"username\");\n        var remove = following.username;\n        let x = {username , remove} ;\n        axios.post('http://localhost:5000/removefollowing', x)\n        .then(response => {\n            console.log(\"removed\");\n            setCount(count+1);\n            // window.location.reload(false);\n        })\n        .catch(error => {\n          console.error(error);\n        }); \n    }\n\n    function handleaAddFollowings(other){\n        var username = localStorage.getItem(\"username\");\n        var other = other.username;\n        let x = {username , other} ;\n        \n        axios.post('http://localhost:5000/addfollowing', x)\n            .then(response => {\n                // setFollowings(JSON.parse(JSON.stringify(response.data))); \n                // navigate(\"/followings\");\n                console.log(\"added\");\n                setCount(count+1);\n                // window.location.reload(false)                \n            })\n            .catch(error => {\n            console.error(error);\n        }); \n    }\n\n\n    return (\n        <div>\n      \n        <div class=\"list-group pt-5\">\n        <li  class=\"list-group-item list-group-item-action active h1\" >Followings</li>\n            { followings.map(following => (//those who I follow.\n            <li key = {following.id} class=\"list-group-item list-group-item-action list-group-item-warning h5\" >\n                {following.username}\n                <button class=\"btn ms-3 btn-primary\" onClick={() => handleRemoveFollowings(following)}>\n                Unfollow\n                </button>\n            </li>\n            ))}\n\n        <li  class=\"list-group-item list-group-item-action active h1\" >Others on our database</li>\n            { others.map(other => (//those who I can follow.\n            <li key={other.id}class=\"list-group-item list-group-item-action list-group-item-warning h5\">\n                {other.username}\n                <button class=\"float-right btn ms-3 btn-primary\" onClick={() => handleaAddFollowings(other)}>\n                Follow\n                </button>\n            </li>\n            ))}\n        </div>\n        </div>\n    );\n}\n\nexport default FollowingList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}